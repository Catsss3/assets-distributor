
name: "ðŸš€ Ultra Cleaner Engine 204 + Gemini Vision"
on:
  schedule:
    - cron: "0 */8 * * *"
  workflow_dispatch:
jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - name: Install dependencies
        run: pip install requests google-generativeai
      - name: Execute Clean & AI Discovery
        env:
          GEMINI_API: ${{ secrets.GEMINI_API }}
          WORKFLOW_TOKEN: ${{ secrets.WORKFLOW_TOKEN }}
        run: python scripts/engine.py
      - name: Deploy Results
        run: |
          git config --global user.name "Blondie-Bot"
          git config --global user.email "blondie@gemini.ai"
          git add distributor.txt distributor.64 sources.txt
          git commit -m "ðŸ’… Gemini Vision Update: New sources found & 204 Check Complete" || exit 0
          git push
